cmake_minimum_required(VERSION 3.10)
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED True)
set(CMAKE_BUILD_TYPE Debug)
project(DFA)
file(GLOB SRC_FILES src/*.cpp src/gen/*.cpp)
file(GLOB HPP_FILES src/*.hpp src/gen/*.hpp)

function(add_target name source_file)
    add_executable(${name} ${source_file} ${SRC_FILES} ${HPP_FILES})
    target_include_directories(${name} PRIVATE /usr/local/include)
    target_link_directories(${name} PRIVATE /usr/local/lib)
    target_link_libraries(${name} PRIVATE z3)
    target_include_directories(${name} PRIVATE /usr/local/include/antlr4-runtime)
    target_link_libraries(${name} PRIVATE antlr4-runtime)
endfunction()


add_target(Intr intr.cpp)
add_target(Single main.cpp)
add_target(Prio prio.cpp)
add_target(Comp comp.cpp)
add_target(Wins wins.cpp)
add_target(Debug debug.cpp)
add_target(Loom loom.cpp)
add_target(LoomMem loom.mem.cpp)
add_target(LoomNoMem loom.nomem.cpp)
add_target(FQ fq.cpp)
add_target(leaf leaf.cpp)
add_target(line line.cpp)
add_target(demux demux.cpp)
add_target(demux_big demux_big.cpp)
add_target(demux_two_side.cpp demux_two_side.cpp)
add_target(multiple_dst demux_multiple_dst.cpp)
add_target(multiple_src demux_multiple_src.cpp)
add_target(leaf_fperf leaf_fperf.cpp)
add_target(leaf_fperf_complete leaf_fperf_complete.cpp)


